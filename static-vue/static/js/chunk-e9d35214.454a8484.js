(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9d35214"],{"485f":function(e,t,n){"use strict";n.d(t,"i",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return i}),n.d(t,"j",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return l});var r=n("b775");function a(e){return Object(r["a"])({url:"/system/newscategoryV2/list",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/system/newscategory/add",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/system/newscategoryV2/update",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/system/newscategoryV2/deleteone",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/system/newscategoryV2/one",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/system/newscategory/one",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/system/websiteV2/list",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/system/website/add",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/system/website/update",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/system/website/delete",method:"post",data:e})}},"74de":function(e,t,n){"use strict";var r=n("e890"),a=n.n(r);a.a},e890:function(e,t,n){},fdf1:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-edit"},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"status-icon":!0,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"类别名称",prop:"newscategory_name"}},[n("el-input",{attrs:{placeholder:"请输入类别名称",clearable:""},model:{value:e.form.newscategory_name,callback:function(t){e.$set(e.form,"newscategory_name",t)},expression:"form.newscategory_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类别描述"}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入类别描述",clearable:""},model:{value:e.form.newscategory_desc,callback:function(t){e.$set(e.form,"newscategory_desc",t)},expression:"form.newscategory_desc"}})],1)],1),e._v(" "),n("div",{attrs:{id:"btnGroup"}},[n("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],attrs:{type:"primary"},on:{click:function(t){return e.save("form")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.cancel("form")}}},[e._v("取消")])],1)],1)},a=[],o=n("485f"),s={data:function(){return{dataIsChange:0,noLeaveprompt:!1,form:{newscategory_name:"",newscategory_desc:"",_id:""},rules:{newscategory_name:[{required:!0,message:"请输入类别名称（长度在 2 到 20个字符）",trigger:"blur"},{required:!0,message:"请输入类别名称（长度在 2 到 20 个字符）",trigger:"change"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"change"}]}}},watch:{form:{handler:function(e){e&&this.dataIsChange++},deep:!0}},created:function(){this.form._id=this.$route.query.id,this.get_det()},methods:{get_det:function(){var e=this,t=this,n={};n._id=this.form._id,Object(o["j"])(n).then(function(n){var r=n.data.newscategory;t.form.newscategory_name=r.newscategory_name?r.newscategory_name:"",t.form.newscategory_desc=r.newscategory_desc?r.newscategory_desc:"",e.dataIsChange=-1}).catch(function(e){console.log(e)})},save:function(e){var t=this;this.$refs[e].validate(function(e){e&&Object(o["h"])(t.form).then(function(e){t.$message.success("修改成功！"),t.noLeaveprompt=!0,t.$router.push({path:"/systemManage/newsCategory/detail",query:{id:t.form._id}})})})},cancel:function(e){this.$router.push({path:"/systemManage/newsCategory/list"})}},beforeRouteLeave:function(e,t,n){var r=this;this.dataIsChange&&!this.noLeaveprompt?setTimeout(function(){r.$confirm("您的数据尚未保存，是否离开？","离开页面",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n()}).catch(function(){n(!1)})},200):n()}},c=s,i=(n("74de"),n("2877")),u=Object(i["a"])(c,r,a,!1,null,"84cd5350",null);t["default"]=u.exports}}]);