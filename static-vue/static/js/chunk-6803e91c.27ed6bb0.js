(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6803e91c"],{"129d":function(e,t,o){},"7d1e":function(e,t,o){"use strict";var i=o("129d"),r=o.n(i);r.a},a888:function(e,t,o){"use strict";o("a481"),o("6762"),o("2fdb");var i={bind:function(e,t,o){var i=e.querySelector(".el-dialog__header"),r=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",r.style.cssText+=";top:0px;";var n=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,a=e.clientY-i.offsetTop,c=r.offsetWidth,s=r.offsetHeight,l=document.body.clientWidth,p=document.body.clientHeight,u=r.offsetLeft,d=l-r.offsetLeft-c,f=r.offsetTop,v=p-r.offsetTop-s,g=n(r,"left"),m=n(r,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),m=+document.body.clientHeight*(+m.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),m=+m.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,n=e.clientY-a;-i>u?i=-u:i>d&&(i=d),-n>f?n=-f:n>v&&(n=v),r.style.cssText+=";left:".concat(i+g,"px;top:").concat(n+m,"px;"),o.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},r=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(r)),i.install=r;t["a"]=i},afbe:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vueCropper"},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"",drag:"","auto-upload":!1,"show-file-list":!1,"on-change":e.changeUpload}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip"},[e._v("\n      支持绝大多数图片格式，单张图片最大支持5MB\n    ")])]),e._v(" "),o("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"图片剪裁",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("div",{staticClass:"cropper-content"},[o("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[o("vueCropper",{ref:"cropper",attrs:{img:e.option.img,"output-size":e.option.size,"output-type":e.option.outputType,info:!0,full:e.option.full,"can-move":e.option.canMove,"can-move-box":e.option.canMoveBox,original:e.option.original,"auto-crop":e.option.autoCrop,fixed:e.option.fixed,"fixed-number":e.option.fixedNumber,"center-box":e.option.centerBox,"info-true":e.option.infoTrue,"fixed-box":e.option.fixedBox},on:{realTime:e.realTime,imgLoad:e.imgLoad}}),e._v(" "),o("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"downLoadImg",attrs:{href:"javascript:;"}})],1),e._v(" "),o("div",{staticClass:"show-preview",style:{width:e.previews.w+"px",height:e.previews.h+"px",overflow:"hidden",margin:"5px"}},[o("div",{staticClass:"preview",style:e.previews.div},[o("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.startCrop()}}},[e._v("start")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.stopCrop()}}},[e._v("stop")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clearCrop()}}},[e._v("clear")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.refreshCrop()}}},[e._v("refresh")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeScale(1)}}},[e._v("+")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeScale(-1)}}},[e._v("-")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.rotateLeft}},[e._v("向左旋转90°")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.rotateRight}},[e._v("向右旋转90°")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.down("base64")}}},[e._v("download(base64)")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.down("blob")}}},[e._v("download(blob)")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("base64")}}},[e._v("preview(base64)")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("blob")}}},[e._v("preview(blob)")]),e._v(" "),o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.finish}},[e._v("确认")])],1)]),e._v(" "),o("el-dialog",{attrs:{visible:e.model},on:{"update:visible":function(t){e.model=t}}},[o("img",{attrs:{width:"100%",src:e.modelSrc,alt:""}})])],1)},r=[],n=o("7e79"),a=o("a888"),c={components:{VueCropper:n["VueCropper"]},directives:{elDragDialog:a["a"]},data:function(){return{dialogVisible:!0,model:!1,option:{img:"https://fengyuanchen.github.io/cropperjs/images/picture.jpg",info:!0,outputSize:.8,outputType:"jpeg",canScale:!1,autoCrop:!0,fixedBox:!1,fixed:!1,fixedNumber:[7,5],full:!0,canMoveBox:!0,original:!1,centerBox:!1,infoTrue:!0},previews:{},modelSrc:"",picsList:[],loading:!1,downImg:""}},methods:{startCrop:function(){this.$refs.cropper.startCrop()},stopCrop:function(){this.$refs.cropper.startCrop()},clearCrop:function(){this.$refs.cropper.clearCrop()},refreshCrop:function(){this.$refs.cropper.refresh()},changeScale:function(e){e=e||100,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeUpload:function(e,t){var o=this,i=e.size/1024/1024<5;if(!i)return this.$message.error("上传文件大小不能超过 5MB!"),!1;this.fileinfo=e,this.$nextTick(function(){o.option.img="https://fengyuanchen.github.io/cropperjs/images/picture.jpg",o.dialogVisible=!0})},down:function(e){var t=this;this.$refs.downLoadImg.download="author-img","blob"===e?this.$refs.cropper.getCropBlob(function(e){t.downImg=window.URL.createObjectURL(e),t.$refs.downLoadImg.href=window.URL.createObjectURL(e),t.$refs.downLoadImg.click()}):this.$refs.cropper.getCropData(function(e){t.downImg=e,t.$refs.downLoadImg.href=e,t.$refs.downLoadImg.click()}),this.dialogVisible=!0},finish:function(e){var t=this;console.log("finish");var o=new FormData;"blob"===e?this.$refs.cropper.getCropBlob(function(e){var i=window.URL.createObjectURL(e);t.modelSrc=i,t.model=!0,o.append("file",e,t.fileName)}):this.$refs.cropper.getCropData(function(e){t.modelSrc=e,t.model=!0})},realTime:function(e){this.previews=e},imgLoad:function(e){console.log(e)}}},s=c,l=(o("7d1e"),o("2877")),p=Object(l["a"])(s,i,r,!1,null,"09f6683e",null);t["default"]=p.exports}}]);