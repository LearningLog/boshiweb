(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ca76614"],{"2ee0":function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"d",function(){return s}),r.d(t,"a",function(){return u}),r.d(t,"f",function(){return i}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return o}),r.d(t,"g",function(){return c});var n=r("b775");function a(){return Object(n["a"])({url:"/system/menuV2/findAllMenus",method:"post",data:{}})}function s(e){return Object(n["a"])({url:"/system/menuV2/findMenuList",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/system/menuV2/addmenu",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/system/menuV2/findMenuById",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/system/menuV2/updatemenu",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/system/menuV2/deletemenu",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/system/menuV2/updownmenu",method:"post",data:e})}},be22:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r("96cf");var n=r("3b8d"),a=r("a18c"),s=r("4360");function u(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].dispatch("user/getInfo");case 2:return t=e.sent,r=t.systemRoutes,n=t.backstageRoutes,e.next=7,s["a"].dispatch("permission/generateRoutes",{systemRoutes:r,backstageRoutes:n});case 7:return Object(a["d"])(),a["c"].addRoutes(s["a"].state.permission.systemRoutes),e.next=11,s["a"].dispatch("permission/set_permission_routes",1);case 11:case"end":return e.stop()}},e)})),i.apply(this,arguments)}},cdce:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-edit"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px","status-icon":!0}},[r("el-form-item",{attrs:{label:"菜单名称",prop:"menuname"}},[r("el-input",{attrs:{placeholder:"请输入菜单名称",maxlength:"12",clearable:""},model:{value:e.form.menuname,callback:function(t){e.$set(e.form,"menuname",t)},expression:"form.menuname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"菜单标识",prop:"cmark"}},[r("el-input",{attrs:{placeholder:"请输入菜单标识",maxlength:"64",clearable:""},model:{value:e.form.cmark,callback:function(t){e.$set(e.form,"cmark",t)},expression:"form.cmark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"菜单图标"}},[r("el-input",{attrs:{placeholder:"请输入菜单图标",maxlength:"50",clearable:""},model:{value:e.form.imagename,callback:function(t){e.$set(e.form,"imagename",t)},expression:"form.imagename"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"菜单路径",prop:"menuurl"}},[r("el-input",{attrs:{placeholder:"请输入菜单路径",maxlength:"120"},model:{value:e.form.menuurl,callback:function(t){e.$set(e.form,"menuurl",t)},expression:"form.menuurl"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"菜单模块",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择菜单模块",clearable:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.menuType,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),r("div",{staticClass:"tip"},[e._v("系统后台归属的菜单，不会出现在租户菜单列表中")])],1),e._v(" "),r("el-form-item",{attrs:{label:"父级菜单"}},[r("el-input",{attrs:{value:e.pname,disabled:!0}})],1)],1),e._v(" "),r("div",{attrs:{id:"btnGroup"}},[r("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],attrs:{type:"primary"},on:{click:function(t){return e.save("form")}}},[e._v("提交")]),e._v(" "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:e.cancel}},[e._v("取消")])],1)],1)},a=[],s=(r("96cf"),r("3b8d")),u=r("db72"),i=r("2f62"),m=r("2ee0"),o=r("be22"),c={computed:Object(u["a"])({},Object(i["b"])(["menuType"])),watch:{form:{handler:function(e){e&&this.dataIsChange++},deep:!0}},created:function(){this.pid=this.$route.query.pid,this.pname=this.$route.query.pname},data:function(){return{dataIsChange:0,noLeaveprompt:!1,form:{menuname:"",cmark:"",imagename:"",menuurl:"",type:""},pid:"",pname:"",rules:{menuname:[{required:!0,message:"请输入菜单名称（长度在 1 到 12 个字符）",trigger:"blur"},{required:!0,message:"请输入菜单名称（长度在 1 到 12 个字符）",trigger:"change"},{min:1,max:12,message:"长度在 1 到 12 个字符",trigger:"blur"},{min:1,max:12,message:"长度在 1 到 12 个字符",trigger:"change"}],cmark:[{required:!0,message:"请输入菜单标识（长度在 1 到 64 个字符）",trigger:"blur"},{required:!0,message:"请输入菜单标识（长度在 1 到 64 个字符）",trigger:"change"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"change"}],menuurl:[{required:!0,message:"请输入菜单路径（长度在 1 到 120 个字符）",trigger:"blur"},{required:!0,message:"请输入菜单路径（长度在 1 到 120 个字符）",trigger:"change"},{min:1,max:120,message:"长度在 1 到 120 个字符",trigger:"blur"},{min:1,max:120,message:"长度在 1 到 120 个字符",trigger:"change"}],type:[{required:!0,message:"请选择菜单模块",trigger:"change"}]}}},methods:{save:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.form.pid=t.pid,Object(m["a"])(t.form).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success("新增菜单成功！"),t.noLeaveprompt=!0,Object(o["a"])(),t.$router.push({path:"/systemManage/menuManage/detail",query:{_id:r.data._id}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))})},cancel:function(){this.$router.push({path:"/systemManage/menuManage/list"})}},beforeRouteLeave:function(e,t,r){var n=this;this.dataIsChange&&!this.noLeaveprompt?setTimeout(function(){n.$confirm("您的数据尚未保存，是否离开？","离开页面",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r()}).catch(function(){r(!1)})},200):r()}},l=c,p=r("2877"),d=Object(p["a"])(l,n,a,!1,null,"5c94c2f4",null);t["default"]=d.exports}}]);