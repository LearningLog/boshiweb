(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-384477f2"],{"6de4":function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"k",function(){return h});var a=n("b775");function r(e){return Object(a["a"])({url:"/system/roleV2/findRoleList",method:"post",data:e})}function s(e){return Object(a["a"])({url:"system/roleV2/getAllRole",method:"post",data:e})}function o(){return Object(a["a"])({url:"/system/customV2/getCustomManageList",method:"post",data:{}})}function i(e){return Object(a["a"])({url:"/system/roleV2/addrole",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/system/roleV2/findRoleById",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/system/roleV2/upateRole",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/system/roleV2/deleterole",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/system/roleV2/deleteMultiRole",method:"post",data:e})}function f(){return Object(a["a"])({url:"/system/roleV2/getDefaultManage",method:"post",data:{}})}function m(e){return Object(a["a"])({url:"/system/roleV2/findAllMenus",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/system/roleV2/saveMenu",method:"post",data:e})}},9417:function(e,t,n){"use strict";var a=n("99d1"),r=n.n(a);r.a},"99d1":function(e,t,n){},b0e9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-edit"},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称："}},[n("span",[e._v(e._s(e.form.rolename))])]),e._v(" "),n("el-form-item",{attrs:{label:"角色描述："}},[n("span",[e._v(e._s(e.form.desc))])]),e._v(" "),n("el-form-item",{attrs:{label:"所属租户："}},[n("span",[e._v(e._s(e.form.customname))])]),e._v(" "),n("el-form-item",{attrs:{label:"角色类型：",prop:"roleGroupId"}},[n("span",[e._v(e._s(e.form.manageTypeName))])]),e._v(" "),n("el-form-item",{attrs:{label:"角色授权："}},[n("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[n("el-tree",{ref:"menuTree",attrs:{data:e.menuTree,"show-checkbox":"","default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"check-on-click-node":!0,"node-key":"_id","default-checked-keys":e.treecheckedKeys,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,r=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",{attrs:{dataType:r.type}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"permission"===r.type?"#iconzu":"#iconwenjianjia"}})]),e._v("\n              "+e._s(a.label)+"\n            ")])])}}])})],1)],1)],1),e._v(" "),n("div",{attrs:{id:"btnGroup"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1)},r=[],s=(n("7f7f"),n("ac6a"),n("6de4")),o={data:function(){return{form:{rolename:"",desc:"",customname:""},id:"",menuTree:[],treecheckedKeys:[],defaultProps:{children:"childs",label:"menuname",id:"_id"},manageTypeList:[]}},created:function(){this.id=this.$route.query.id,this.getManageType(),this.getAllMenus()},methods:{getInitData:function(){var e=this;Object(s["e"])({_id:this.id}).then(function(t){e.form=t.data.role,e.manageTypeList.forEach(function(n){n.id!==t.data.role.manageType||(e.form.manageTypeName=n.name)})})},getManageType:function(){var e=this;Object(s["f"])().then(function(t){e.manageTypeList=t.data,e.getInitData()})},getAllMenus:function(){var e=this;Object(s["b"])({_id:this.id}).then(function(t){e.getDefaultCheckedKeys(t.data),e.menuTree=t.data})},getDefaultCheckedKeys:function(e){var t=this;e.forEach(function(e){e.disabled=!0,e.select&&t.treecheckedKeys.push(e._id),e.childs=e.childs||[],e.permissions=e.permissions||[],e.childs=e.childs.concat(e.permissions),e.childs.length&&t.getDefaultCheckedKeys(e.childs)})},confirm:function(){this.$router.push({path:"/systemManage/roleManage/list"})}}},i=o,u=(n("9417"),n("2877")),c=Object(u["a"])(i,a,r,!1,null,"5173fee4",null);t["default"]=c.exports}}]);