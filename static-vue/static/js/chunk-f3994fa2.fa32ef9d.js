(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3994fa2"],{"1ad4":function(t,e,r){},"3d9d":function(t,e,r){"use strict";var n=r("1ad4"),a=r.n(n);a.a},"5c88":function(t,e,r){"use strict";r.d(e,"d",function(){return a}),r.d(e,"g",function(){return s}),r.d(e,"e",function(){return i}),r.d(e,"f",function(){return o}),r.d(e,"a",function(){return l}),r.d(e,"b",function(){return u}),r.d(e,"c",function(){return c});var n=r("b775");function a(){return Object(n["a"])({url:"/system/customV2/getCustomManageList",method:"post",data:{}})}function s(t){return Object(n["a"])({url:"/system/skill/listV2",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/system/skill/one",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/system/skill/update",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/system/skill/add",method:"post",data:t})}function u(t){return Object(n["a"])({url:"system/skill/delete",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/system/roleV2/deleteMultiRole",method:"post",data:t})}},7956:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-edit"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"status-icon":!0,"label-width":"120px"}},[r("el-form-item",{staticClass:"required",attrs:{label:"技能名称",prop:"skill_name"}},[r("el-input",{attrs:{placeholder:"请输入技能名称",clearable:""},model:{value:t.form.skill_name,callback:function(e){t.$set(t.form,"skill_name",e)},expression:"form.skill_name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"技能描述"}},[r("el-input",{attrs:{placeholder:"请输入技能描述",clearable:""},model:{value:t.form.skill_desc,callback:function(e){t.$set(t.form,"skill_desc",e)},expression:"form.skill_desc"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"所属租户",prop:"groupId"}},[r("el-select",{attrs:{placeholder:"请选择所属租户",clearable:"",filterable:""},model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}},t._l(t.custom_list,function(t){return r("el-option",{key:t._id,attrs:{label:t.customname,value:t._id}})}),1)],1)],1),t._v(" "),r("div",{attrs:{id:"btnGroup"}},[r("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],attrs:{type:"primary"},on:{click:function(e){return t.save("form")}}},[t._v("保存")]),t._v(" "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.cancel("form")}}},[t._v("取消")])],1)],1)},a=[],s=r("5c88"),i={data:function(){return{dataIsChange:0,noLeaveprompt:!1,id:"",form:{skill_name:"",desc:"",groupId:""},custom_list:[],rules:{skill_name:[{required:!0,message:"请输入技能名称（长度在 2 到 20 个字符）",trigger:"blur"},{required:!0,message:"请输入技能名称（长度在 2 到 20 个字符）",trigger:"change"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"change"}],groupId:[{required:!0,message:"请选择所属租户",trigger:"blur"},{required:!0,message:"请选择所属租户",trigger:"change"}]}}},watch:{form:{handler:function(t){t&&this.dataIsChange++},deep:!0}},created:function(){this.id=this.$route.query.id,this.getInitData(),this.getCustomManageList()},methods:{getInitData:function(){var t=this;Object(s["e"])({_id:this.id}).then(function(e){t.form=e.data.skill,t.dataIsChange=-1})},getCustomManageList:function(){var t=this;Object(s["d"])().then(function(e){t.custom_list=e.data})},save:function(t){var e=this;this.$refs[t].validate(function(t){t&&Object(s["f"])(e.form).then(function(t){e.$message.success("修改技能成功！"),e.noLeaveprompt=!0,e.$router.push({path:"/user-center/skill-manager/detail",query:{id:e.id}})})})},cancel:function(t){this.$router.push({path:"/user-center/skill-manager/list"})}},beforeRouteLeave:function(t,e,r){var n=this;this.dataIsChange&&!this.noLeaveprompt?setTimeout(function(){n.$confirm("您的数据尚未保存，是否离开？","离开页面",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r()}).catch(function(){r(!1)})},200):r()}},o=i,l=(r("3d9d"),r("2877")),u=Object(l["a"])(o,n,a,!1,null,"1c0609c0",null);e["default"]=u.exports}}]);